<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>使用VScode和EIDE插件开发STM32</title>
      <link href="/posts/63537.html"/>
      <url>/posts/63537.html</url>
      
        <content type="html"><![CDATA[<h1 id="使用VScode和Eide插件编译STM32"><a href="#使用VScode和Eide插件编译STM32" class="headerlink" title="使用VScode和Eide插件编译STM32"></a>使用VScode和Eide插件编译STM32</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>VSCode（Visual Studio Code）是一款轻量级但功能强大的源代码编辑器，支持多种编程语言和插件扩展。EIDE（Embedded IDE）是 VSCode 的一个插件，专门用于嵌入式开发，支持 STM32 等 ARM Cortex-M 系列微控制器的开发。本文将介绍如何使用 VSCode 和 EIDE 插件来开发 STM32 项目。<br>##准备工作<br>在开始之前，请确保你已经安装了以下软件和工具：</p><p>Visual Studio Code：<a href="https://code.visualstudio.com/" title="下载地址">下载地址</a></p><p>EIDE 插件：在 VSCode 的扩展市场中搜索并安装 “Embedded IDE”。</p><h2 id="安装-EIDE-插件"><a href="#安装-EIDE-插件" class="headerlink" title="安装 EIDE 插件"></a>安装 EIDE 插件</h2><p>打开 VSCode。</p><p>点击左侧的扩展图标（或按 Ctrl+Shift+X）。</p><p>在搜索框中输入 “Embedded IDE”，找到 “EIDE” 插件并点击 “Install” 进行安装。</p><p>安装完成后，重启 VSCode。</p><p><img src="https://www.helloimg.com/i/2024/12/25/676ba13482ca3.png"></p><h2 id="安装-Cortex-Debug"><a href="#安装-Cortex-Debug" class="headerlink" title="安装 Cortex-Debug"></a>安装 Cortex-Debug</h2><p><img src="https://www.helloimg.com/i/2024/12/25/676ba131559a3.png" alt="Cortex" title="Cortex"></p><h2 id="编译环境的配置"><a href="#编译环境的配置" class="headerlink" title="编译环境的配置"></a>编译环境的配置</h2><p>扩展里面，右键eide插件，转到设置</p><p>Eide Arm INI.Path选项 —  添加 UV4.exe 的路径</p><p>我的是 D:\Tools\Keil_v5\UV4\UV4.exe  (看自己的keil安装在哪)</p><p>EIDE.ARM.Option: Axf To Elf 选项 勾选</p><p><img src="https://www.helloimg.com/i/2024/12/25/676ba14bf075d.png"></p><p>之后点击左侧的EIDE插件，点击左下方的操作—安装实用工具</p><p>顶部窗口中，点击 <strong>Cppcheck、GUN Arm Embedded Toolchain 、OpenOCD Programmer</strong>。等待全部下载成功之后，再点击右下角的 <strong>Yes</strong> 。</p><p><img src="https://www.helloimg.com/i/2024/12/25/676ba145925f2.png"></p><h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><p>点击左侧的EIDE插件，点击 <strong>新建项目–内置项目模板–搜STM32F103–命名项目的名称–放在你想储存的位置–之后点击右下角的 YES</strong> 。</p><p>此时点击 EIDE 会出现你创建的项目，只需要配置一下 <strong>项目支持包、构建配置、烧录配置</strong> 即可 。</p><ol><li><p><strong>芯片支持包:点击旁边的加号“+”之后–选From Repo 等待一下，选择你需要的芯片支持包 比如 STM32F10X 。</strong></p></li><li><p><strong>构建配置:选择 GCC 即可，链接脚本路径在你更改 GCC 之后会变化，如果需要 GCC 构建的话，需要去你的项目文件里找到 stm32f1x_64KB_flash.ld 文件，把其文件名称(选中F2)复制即可，前面记得要加 \ </strong></p></li><li><p><strong>烧录设置：选择 OpenOCD 即可</strong></p></li></ol><h2 id="编译和下载"><a href="#编译和下载" class="headerlink" title="编译和下载"></a>编译和下载</h2><ol><li>位置在项目DEBUG的旁边，鼠标移动过去即可</li></ol><h3 id="到此已经结束了"><a href="#到此已经结束了" class="headerlink" title="到此已经结束了"></a>到此已经结束了</h3><p>如果你使用的是江科大的标准库，那么在你导入项目的时候配置如下</p><p><img src="https://www.helloimg.com/i/2024/12/25/676ba15026c06.png"></p><p>此外还需要额外去配置一下预处理编译，不然会出现错误：</p><p>**#error “Please select first the target STM32F10x device used in your application (in stm32f10x.h file)” ** </p><p><strong>解决方式：<br>去stm32f10x.h里面，把预处理宏定义解除注释即可，因为标准库里默认都是把他们注释了。</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">if</span> !defined (STM32F10X_LD) &amp;&amp; !defined (STM32F10X_LD_VL) &amp;&amp; !defined (STM32F10X_MD) &amp;&amp; !defined (STM32F10X_MD_VL) &amp;&amp; !defined (STM32F10X_HD) &amp;&amp; !defined (STM32F10X_HD_VL) &amp;&amp; !defined (STM32F10X_XL) &amp;&amp; !defined (STM32F10X_CL) </span></span><br><span class="line">  <span class="comment">/* #define STM32F10X_LD */</span>     <span class="comment">/*!&lt; STM32F10X_LD: STM32 Low density devices */</span></span><br><span class="line">  <span class="comment">/* #define STM32F10X_LD_VL */</span>  <span class="comment">/*!&lt; STM32F10X_LD_VL: STM32 Low density Value Line devices */</span>  </span><br><span class="line">  <span class="comment">/* #define STM32F10X_MD */</span>        <span class="comment">/*!&lt; STM32F10X_MD: STM32 Medium density devices */</span></span><br><span class="line">  <span class="comment">/* #define STM32F10X_MD_VL */</span>  <span class="comment">/*!&lt; STM32F10X_MD_VL: STM32 Medium density Value Line devices */</span>  </span><br><span class="line">  <span class="comment">/* #define STM32F10X_HD */</span>     <span class="comment">/*!&lt; STM32F10X_HD: STM32 High density devices */</span></span><br><span class="line">  <span class="comment">/* #define STM32F10X_HD_VL */</span>  <span class="comment">/*!&lt; STM32F10X_HD_VL: STM32 High density value line devices */</span>  </span><br><span class="line">  <span class="comment">/* #define STM32F10X_XL */</span>     <span class="comment">/*!&lt; STM32F10X_XL: STM32 XL-density devices */</span></span><br><span class="line">  <span class="comment">/* #define STM32F10X_CL */</span>     <span class="comment">/*!&lt; STM32F10X_CL: STM32 Connectivity line devices */</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> </span></span><br></pre></td></tr></table></figure><p><code>例如我使用的是STM32F10X_MD  就要把这行前面的   /*    和   */ 注释掉了 变为 #define STM32F10X_MD        /*!&lt; STM32F10X_MD: STM32 Medium density devices */  </code></p><hr><hr><p>之后在下载到板子上的时候可能会出错：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Open On-Chip Debugger <span class="number">0.12</span><span class="number">.0</span>-rc2-<span class="built_in">g7a1adfbec</span> (<span class="number">2022</span><span class="number">-11</span><span class="number">-06</span><span class="number">-10</span>:<span class="number">0</span>8)</span><br><span class="line">Licensed under GNU GPL v2</span><br><span class="line">For bug reports, read</span><br><span class="line">        http:<span class="comment">//openocd.org/doc/doxygen/bugs.html</span></span><br><span class="line">Info : <span class="keyword">auto</span>-selecting first available session transport <span class="string">&quot;hla_swd&quot;</span>. To <span class="keyword">override</span> use <span class="string">&#x27;transport select &lt;transport&gt;&#x27;</span>.</span><br><span class="line">Info : The selected transport took over low-level target control. The results might differ compared to plain JTAG/SWD</span><br><span class="line">Info : clock speed <span class="number">1000</span> kHz</span><br><span class="line">Info : <span class="function">STLINK <span class="title">V2J27S6</span> <span class="params">(API v2)</span> VID:PID <span class="number">04</span>83:<span class="number">3748</span></span></span><br><span class="line"><span class="function">Info : Target voltage: <span class="number">3.239765</span></span></span><br><span class="line"><span class="function">Info : [stm32f1x.cpu] Cortex-M3 r1p1 processor detected</span></span><br><span class="line"><span class="function">Info : [stm32f1x.cpu] target has <span class="number">6</span> breakpoints, <span class="number">4</span> watchpoints</span></span><br><span class="line"><span class="function">Info : starting gdb server for stm32f1x.cpu on <span class="number">3333</span></span></span><br><span class="line"><span class="function">Info : Listening on port <span class="number">3333</span> for gdb connections</span></span><br><span class="line"><span class="function">[stm32f1x.cpu] halted due to debug-request, current mode: Thread </span></span><br><span class="line"><span class="function">xPSR: <span class="number">0x01000000</span> pc: <span class="number">0x08000100</span> msp: <span class="number">0x20000400</span></span></span><br><span class="line"><span class="function">** Programming Started **</span></span><br><span class="line"><span class="function">Error: couldn<span class="string">&#x27;t open c:/Users/Alans/Documents/STM32/vs/build/Target 1/Project.hex</span></span></span><br><span class="line"><span class="string"><span class="function">embedded:startup.tcl:1516: Error: ** Programming Failed **</span></span></span><br><span class="line"><span class="string"><span class="function">in procedure &#x27;</span>program&#x27;</span></span><br><span class="line"><span class="function">in procedure <span class="string">&#x27;program_error&#x27;</span> called at file <span class="string">&quot;embedded:startup.tcl&quot;</span>, line <span class="number">1581</span></span></span><br><span class="line"><span class="function">at file <span class="string">&quot;embedded:startup.tcl&quot;</span>, line <span class="number">1516</span></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure><p><strong>还要把 构建起选项 — 链接器 —不生成hex&#x2F;bin文件 取消勾选即可。</strong></p><hr>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 单片机 </tag>
            
            <tag> 嵌入式 </tag>
            
            <tag> 开发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/posts/16107.html"/>
      <url>/posts/16107.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
